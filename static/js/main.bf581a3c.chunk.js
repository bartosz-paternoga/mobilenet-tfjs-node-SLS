(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},17:function(e,t,a){e.exports=a.p+"static/media/sound.d3b3ccc5.mp3"},21:function(e,t,a){e.exports=a(51)},26:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),l=a(11),c=a.n(l),o=(a(26),a(12)),r=a(13),i=a(18),u=a(14),d=a(20),m=a(19),p=a(4),g=a.n(p),b=a(16),k=a.n(b),h=a(17),v=a.n(h),E=(a(49),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={selectedFile:"",url:""},a.handleUploadImages=function(e){var t,n=function(e){""!==e?(document.getElementById("loading-message").style.display="block",document.getElementById("sk-cube-grid").style.display="block"):(document.getElementById("loading-message").style.display="",document.getElementById("sk-cube-grid").style.display="")};n("x");var s=document.getElementById("img-preview");s.src="";var l=e.map(function(e){var t=new FormData;return t.append("file",e),t.append("tags","{TAGS}"),t.append("upload_preset","wpd7mzsm"),t.append("api_key","278776248912159"),t.append("timestamp",Date.now()/1e3|0),g.a.post("https://api.cloudinary.com/v1_1/bartek985/image/upload",t,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){a.setState({url:e.data.url}),console.log("state url:",a.state.url),s.src=a.state.url})});g.a.all(l).then(function(){console.log("Images have been uploaded");var e=t=a.state.url,l=t.length,c=e.substring(0,49),o=e.substring(49,l);t=c+"c_scale,w_400/"+o,function(){console.log("URL",t);var e="https://openwhisk.eu-gb.bluemix.net/api/v1/web/bartek985%40hotmail.com_dev/default/faas.json?name=".concat(t),a=new XMLHttpRequest;a.open("POST",e,!0),a.setRequestHeader("Content-type","application/json"),a.onload=function(){if(400===a.status)console.log("Error, check your network connection.");else{n(""),document.getElementById("xyz").play(),console.log("ourRequest.responseText:",a.responseText.toString());var e=JSON.parse(a.responseText).results.split("className:"),t=e[1].length,l=e[1].substring(0,t-1);alert("PREDICTION RESULT: "+l),s.src=""}},a.send(JSON.stringify(e))}()})},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("img",{src:k.a,className:"App-logo",alt:"logo"}),s.a.createElement("h3",null," This app is using MobileNet model with tfjs-node to predict objects from an image"))),s.a.createElement("audio",{id:"xyz",src:v.a,preload:"auto"}),s.a.createElement("br",null),s.a.createElement("div",{id:"drp"},s.a.createElement(m.a,{onDrop:this.handleUploadImages,multiple:!0,accept:"image/*"},"Press to select files to upload, or make a pic when on mobile."),s.a.createElement("br",null)),s.a.createElement("div",{id:"loading-message"},s.a.createElement("p",null,"This will take a few moments ...")),s.a.createElement("div",{className:"sk-cube-grid",id:"sk-cube-grid"},s.a.createElement("div",{className:"sk-cube sk-cube1"}),s.a.createElement("div",{className:"sk-cube sk-cube2"}),s.a.createElement("div",{className:"sk-cube sk-cube3"}),s.a.createElement("div",{className:"sk-cube sk-cube4"}),s.a.createElement("div",{className:"sk-cube sk-cube5"}),s.a.createElement("div",{className:"sk-cube sk-cube6"}),s.a.createElement("div",{className:"sk-cube sk-cube7"}),s.a.createElement("div",{className:"sk-cube sk-cube8"}),s.a.createElement("div",{className:"sk-cube sk-cube9"})),s.a.createElement("br",null),s.a.createElement("img",{src:"",id:"img-preview",alt:"",width:"200",height:"200"}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,2,1]]]);
//# sourceMappingURL=main.bf581a3c.chunk.js.map